
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Quickstart &#8212; helium-py 0.2a2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="helium-py: Official Helium Library" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quickstart">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Quickstart</a><a class="headerlink" href="#quickstart" title="Permalink to this heading">¶</a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#quickstart" id="id1">Quickstart</a></p>
<ul>
<li><p><a class="reference internal" href="#installation" id="id2">Installation</a></p></li>
<li><p><a class="reference internal" href="#example-transactions" id="id3">Example Transactions</a></p>
<ul>
<li><p><a class="reference internal" href="#creating-and-submitting-a-payment-transaction" id="id4">Creating and submitting a payment transaction</a></p></li>
<li><p><a class="reference internal" href="#sending-an-account-s-full-balance" id="id5">Sending an Account’s full balance</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="installation">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<p>To use helium-py, first install it using pip:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip install helium-py
</pre></div>
</div>
</section>
<section id="example-transactions">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Example Transactions</a><a class="headerlink" href="#example-transactions" title="Permalink to this heading">¶</a></h2>
<section id="creating-and-submitting-a-payment-transaction">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Creating and submitting a payment transaction</a><a class="headerlink" href="#creating-and-submitting-a-payment-transaction" title="Permalink to this heading">¶</a></h3>
<p>A payment from an owned keypair initialized with a 12 word mnemonic to an address specified by its base58 representation. The transaction is serialized to binary and submitted to the blockchain API.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">logging</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">helium_py.crypto.keypair</span> <span class="kn">import</span> <span class="n">Address</span><span class="p">,</span> <span class="n">Keypair</span>
<span class="linenos"> 4</span><span class="kn">from</span> <span class="nn">helium_py.transactions</span> <span class="kn">import</span> <span class="n">Payment</span><span class="p">,</span> <span class="n">PaymentV2</span>
<span class="linenos"> 5</span><span class="kn">from</span> <span class="nn">helium_py.api</span> <span class="kn">import</span> <span class="n">Accounts</span><span class="p">,</span> <span class="n">PendingTransactions</span><span class="p">,</span> <span class="n">Transactions</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1"># Initialize an owned keypair from a 12 word mnemonic</span>
<span class="linenos">10</span><span class="n">bob</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_words</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;twelve&#39;</span><span class="p">])</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># Initialize an address from a b58 string</span>
<span class="linenos">13</span><span class="n">alice</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="n">from_b58</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;148d8KTRcKA5JKP ekBcKFd4KfvprvFRpjGtivhtmRmnZ8MFYnP3&#39;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># get the speculative nonce for the keypair</span>
<span class="linenos">16</span><span class="n">account</span> <span class="o">=</span> <span class="n">Accounts</span><span class="p">()</span><span class="o">.</span><span class="n">account_for_address</span><span class="p">(</span><span class="n">bob</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">b58</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">payment_transaction</span> <span class="o">=</span> <span class="n">PaymentV2</span><span class="p">(</span>
<span class="linenos">19</span>    <span class="n">payer</span><span class="o">=</span><span class="n">bob</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
<span class="linenos">20</span>    <span class="n">payments</span><span class="o">=</span><span class="p">[</span>
<span class="linenos">21</span>        <span class="n">Payment</span><span class="p">(</span>
<span class="linenos">22</span>            <span class="n">payee</span><span class="o">=</span><span class="n">alice</span><span class="p">,</span>
<span class="linenos">23</span>            <span class="n">amount</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">24</span>            <span class="n">memo</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;memo&#39;</span><span class="p">,</span>
<span class="linenos">25</span>        <span class="p">),</span>
<span class="linenos">26</span>    <span class="p">],</span>
<span class="linenos">27</span>    <span class="n">nonce</span><span class="o">=</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;speculative_nonce&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">28</span><span class="p">)</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="c1"># an appropriate transaction fee is calculated at initialization</span>
<span class="linenos">31</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;transaction fee is: </span><span class="si">{</span><span class="n">payment_transaction</span><span class="o">.</span><span class="n">calculated_fee</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="c1"># sign the payment txn with bob&#39;s keypair</span>
<span class="linenos">34</span><span class="n">signed_payment_transaction</span> <span class="o">=</span> <span class="n">payment_transaction</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">payer</span><span class="o">=</span><span class="n">bob</span><span class="p">)</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="c1"># submit the serialized txn to the Blockchain HTTP API</span>
<span class="linenos">37</span><span class="n">pending_transactions_client</span> <span class="o">=</span> <span class="n">PendingTransactions</span><span class="p">()</span>
<span class="linenos">38</span><span class="n">response_dict</span> <span class="o">=</span> <span class="n">pending_transactions_client</span><span class="o">.</span><span class="n">submit_transaction</span><span class="p">(</span><span class="n">signed_payment_transaction</span><span class="p">)</span>
<span class="linenos">39</span>
<span class="linenos">40</span><span class="c1"># check on status of pending transaction</span>
<span class="linenos">41</span><span class="n">pending_transactions_client</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">])</span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="c1"># view finalized transaction information</span>
<span class="linenos">44</span><span class="n">transaction_dict</span> <span class="o">=</span> <span class="n">Transactions</span><span class="p">()</span><span class="o">.</span><span class="n">get_transaction</span><span class="p">(</span><span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="sending-an-account-s-full-balance">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Sending an Account’s full balance</a><a class="headerlink" href="#sending-an-account-s-full-balance" title="Permalink to this heading">¶</a></h3>
<p>Sending the maximum amount from an account (leaving a 0 HNT balance) requires taking into account the transaction fee. All fees are denominated in Data Credits (DC), which is equal to $0.00001 USD, meaning 35,000 DC equals $0.35 USD. DC are obtained by burning HNT, permanently removing it from circulation. If you do not already have DC in your account, the appropriate amount of HNT will be burned to cover the fee.</p>
<p>The general formula is: amountToSend = balance - feeInHNT</p>
<p>The packages in helium-js provide utility functions to calculate the above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">logging</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">helium_py.crypto.keypair</span> <span class="kn">import</span> <span class="n">Address</span><span class="p">,</span> <span class="n">Keypair</span>
<span class="linenos"> 4</span><span class="kn">from</span> <span class="nn">helium_py.transactions</span> <span class="kn">import</span> <span class="n">Payment</span><span class="p">,</span> <span class="n">PaymentV2</span>
<span class="linenos"> 5</span><span class="kn">from</span> <span class="nn">helium_py.api</span> <span class="kn">import</span> <span class="n">Accounts</span><span class="p">,</span> <span class="n">PendingTransactions</span><span class="p">,</span> <span class="n">Transactions</span>
<span class="linenos"> 6</span><span class="kn">from</span> <span class="nn">helium_py.currency</span> <span class="kn">import</span> <span class="n">Balance</span><span class="p">,</span> <span class="n">types</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># Initialize an owned keypair from a 12 word mnemonic</span>
<span class="linenos">11</span><span class="n">bob</span> <span class="o">=</span> <span class="n">Keypair</span><span class="o">.</span><span class="n">from_words</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;twelve&#39;</span><span class="p">])</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c1"># Initialize an address from a b58 string</span>
<span class="linenos">14</span><span class="n">alice</span> <span class="o">=</span> <span class="n">Address</span><span class="o">.</span><span class="n">from_b58</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;148d8KTRcKA5JKPekBcKFd4KfvprvFRpjGtivhtmRmnZ8MFYnP3&#39;</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c1"># get the speculative nonce for the keypair</span>
<span class="linenos">17</span><span class="n">account</span> <span class="o">=</span> <span class="n">Accounts</span><span class="p">()</span><span class="o">.</span><span class="n">account_for_address</span><span class="p">(</span><span class="n">bob</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">b58</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="n">payment_transaction</span> <span class="o">=</span> <span class="n">PaymentV2</span><span class="p">(</span>
<span class="linenos">20</span>    <span class="n">payer</span><span class="o">=</span><span class="n">bob</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
<span class="linenos">21</span>    <span class="n">payments</span><span class="o">=</span><span class="p">[</span>
<span class="linenos">22</span>        <span class="n">Payment</span><span class="p">(</span>
<span class="linenos">23</span>            <span class="n">payee</span><span class="o">=</span><span class="n">alice</span><span class="p">,</span>
<span class="linenos">24</span>            <span class="n">amount</span><span class="o">=</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;balance&#39;</span><span class="p">],</span>
<span class="linenos">25</span>        <span class="p">),</span>
<span class="linenos">26</span>    <span class="p">],</span>
<span class="linenos">27</span>    <span class="n">nonce</span><span class="o">=</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;speculative_nonce&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">28</span><span class="p">)</span>
<span class="linenos">29</span>
<span class="linenos">30</span><span class="c1"># an appropriate transaction fee is calculated at initialization</span>
<span class="linenos">31</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;transaction fee is: </span><span class="si">{</span><span class="n">payment_transaction</span><span class="o">.</span><span class="n">calculated_fee</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="n">fee_in_dc</span> <span class="o">=</span> <span class="n">Balance</span><span class="p">(</span><span class="n">payment_transaction</span><span class="o">.</span><span class="n">calculated_fee</span><span class="p">,</span> <span class="n">currency_type</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">DATA_CREDITS</span><span class="p">)</span>
<span class="linenos">34</span><span class="n">fee_in_hnt</span> <span class="o">=</span> <span class="n">fee_in_dc</span><span class="o">.</span><span class="n">to_network_tokens</span><span class="p">()</span>  <span class="c1"># Oracle price can be provided manually or automatically injected</span>
<span class="linenos">35</span><span class="n">amount_to_send</span> <span class="o">=</span> <span class="n">Balance</span><span class="p">(</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;balance&#39;</span><span class="p">],</span> <span class="n">currency_type</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">NETWORK_TOKENS</span><span class="p">)</span><span class="o">.</span><span class="n">minus</span><span class="p">(</span><span class="n">fee_in_hnt</span><span class="p">)</span>
<span class="linenos">36</span>
<span class="linenos">37</span><span class="n">payment_transaction_for_fee</span> <span class="o">=</span> <span class="n">PaymentV2</span><span class="p">(</span>
<span class="linenos">38</span>    <span class="n">payer</span><span class="o">=</span><span class="n">bob</span><span class="o">.</span><span class="n">address</span><span class="p">,</span>
<span class="linenos">39</span>    <span class="n">payments</span><span class="o">=</span><span class="p">[</span>
<span class="linenos">40</span>        <span class="n">Payment</span><span class="p">(</span>
<span class="linenos">41</span>            <span class="n">payee</span><span class="o">=</span><span class="n">alice</span><span class="p">,</span>
<span class="linenos">42</span>            <span class="n">amount</span><span class="o">=</span><span class="n">amount_to_send</span><span class="p">,</span>
<span class="linenos">43</span>        <span class="p">),</span>
<span class="linenos">44</span>    <span class="p">],</span>
<span class="linenos">45</span>    <span class="n">nonce</span><span class="o">=</span><span class="n">account</span><span class="p">[</span><span class="s1">&#39;speculative_nonce&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">46</span><span class="p">)</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="c1"># sign the payment txn with bob&#39;s keypair</span>
<span class="linenos">49</span><span class="n">signed_payment_transaction</span> <span class="o">=</span> <span class="n">payment_transaction_for_fee</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">payer</span><span class="o">=</span><span class="n">bob</span><span class="p">)</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="c1"># submit the serialized txn to the Blockchain HTTP API</span>
<span class="linenos">52</span><span class="n">pending_transactions_client</span> <span class="o">=</span> <span class="n">PendingTransactions</span><span class="p">()</span>
<span class="linenos">53</span><span class="n">response_dict</span> <span class="o">=</span> <span class="n">pending_transactions_client</span><span class="o">.</span><span class="n">submit_transaction</span><span class="p">(</span><span class="n">signed_payment_transaction</span><span class="p">)</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="c1"># check on status of pending transaction</span>
<span class="linenos">56</span><span class="n">pending_transactions_client</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">])</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="c1"># view finalized transaction information</span>
<span class="linenos">59</span><span class="n">transaction_dict</span> <span class="o">=</span> <span class="n">Transactions</span><span class="p">()</span><span class="o">.</span><span class="n">get_transaction</span><span class="p">(</span><span class="n">response_dict</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/helium-py.png" alt="helium-py logo" />
  </a>
</p>

<p>
  <iframe src="https://ghbtns.com/github-btn.html?user=Crypto-Balloon&repo=helium-py&type=watch&count=true&size=large"
    allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>

<p>
  helium-py is the official Python library for interacting with the Helium blockchain.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="./quickstart.html">Quickstart</a></li>
  <li><a href="./modules.html">Modules</a></li>
  <p></p>

  <li><a href="https://github.com/Crypto-Balloon/helium-py/">helium-py @ GitHub</a></li>
  <li><a href="https://pypi.org/project/helium-py/">helium-py @ PyPI</a></li>
  <li><a href="https://github.com/Crypto-Balloon/helium-py/issues">Issue Tracker</a></li>
</ul>

<div id="native-ribbon">
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Crypto Balloon LLC.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>